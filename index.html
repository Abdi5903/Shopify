<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Deals ‚Äì Layout Skeleton</title>
  <link rel="stylesheet" href="styles.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>
  <div class="top-bar">
    <!-- HEADER --> 
    <header class="header" role="banner">
      <div class="header__row" aria-label="Top navigation">
        <div class="logo">
          <img src="https://www.sportmania.ch/media/wysiwyg/LOGO-FACTION-SKI_1.jpg" alt="Faction logo">
        </div>

        <form class="search" role="search" aria-label="Search products" onsubmit="event.preventDefault()">
          <input type="search" placeholder="Looking for something?" aria-label="Search" />
          <button type="submit" aria-label="Submit search">üîç</button>
        </form>

        <nav class="header__tools" aria-label="Account tools">
         <div class="tool cart-wrapper">
            <a href="#"><strong>Cart</strong><span id="cart-count">0</span></a>
          <div class="cart-dropdown" id="cart-dropdown">
           <p class="empty">Your cart is empty</p>
          </div>
         </div>
          
          <div class="tool"><a href="#"><strong>About Us</strong></a></div>
          <div class="tool"><a href="#"><strong>Profile</strong></a></div>
        </nav>
      </div>
    </header>

    <!-- SECONDARY NAV -->
    <nav class="nav" aria-label="Secondary">
      <div class="nav__row">
        <a href="#">All</a>
        <a href="#">MEN</a>
        <a href="#">WOMEN</a>
        <a href="#">COLLECTION</a>
        <a href="#">ACCESORIES</a>
      </div>
    </nav>
  </div>

  <div class="container">
    <!-- LEFT COLUMN -->
    <div class="left-column">
      <img class="main-img" src="https://factionskis.com/cdn/shop/files/Faction-Skis-Prodigy-1-Matej-2026-Topsheet-1x1.jpg?v=1760455786&width=1200" alt="Faction Prodigy ski">

      <div class="thumbnail-grid">
        <img src="https://factionskis.com/cdn/shop/files/Faction-Skis-Prodigy-1-Matej-2026-Bases-1x1.jpg?v=1760457540&width=650" alt="">
        <img src="https://factionskis.com/cdn/shop/files/Faction-Skis-Prodigy-1-Matej-2026-lux3-1x1.jpg?v=1760457564&width=650" alt="">
        <img src="https://factionskis.com/cdn/shop/files/Faction-Skis-Prodigy-1-Matej-2026-lux1-1x1.jpg?v=1760457564&width=650" alt="">
        <img src="https://factionskis.com/cdn/shop/files/Faction-Skis-Prodigy-1-Matej-2026-lux2-1x1.jpg?v=1760457564&width=650" alt="">
      </div>
    </div>

    <!-- RIGHT COLUMN -->
    <div class="right-column">
      <h1>All-Mountain Ski 2025</h1>
      <p>High-performance all-mountain skis designed for stability, speed, and versatility in all snow conditions.</p>

      <h3>Select Size</h3>
      <div class="sizes">
        <button class="size-btn">160 cm</button>
        <button class="size-btn">170 cm</button>
        <button class="size-btn">180 cm</button>
        <button class="size-btn">190 cm</button>
      </div>

      <button class="add-to-bag">Add to Bag</button>

      <h3>About This Ski</h3>
      <p>
        This ski features a lightweight carbon-reinforced core, progressive sidecut,
        and vibration-absorbing layers for smooth carving. Ideal for intermediate to advanced skiers.
      </p>
<div class="accordion">

  <div class="accordion-item">
    <button class="accordion-header" id="add-to-bag">
      SHIPPING & RETURNS
      <span class="accordion-icon">+</span>
    </button>
    <div class="accordion-content">
      <p>Free shipping over $100. Returns accepted within 30 days.</p>
    </div>
  </div>

  <div class="accordion-item">
    <button class="accordion-header">
      SKI WARRANTY
      <span class="accordion-icon">+</span>
    </button>
    <div class="accordion-content">
      <p>All skis are covered by a 2-year manufacturer warranty.</p>
    </div>
  </div>

  <div class="accordion-item">
    <button class="accordion-header">
      ASK ANY QUESTION
      <span class="accordion-icon">+</span>
    </button>
    <div class="accordion-content">
      <p>Contact our support team anytime.</p>
    </div>
  </div>

</div>

    </div>
  </div>



<script>
document.addEventListener('DOMContentLoaded', () => {

  /* ----------------------------------------------------
     1. ACCORDION
  ---------------------------------------------------- */
  document.querySelectorAll('.accordion-header').forEach(header => {
    header.addEventListener('click', () => {
      header.parentElement.classList.toggle('active');
    });
  });


  /* ----------------------------------------------------
     2. CART SYSTEM (with dropdown)
  ---------------------------------------------------- */

  const addToBagBtn = document.querySelector('.add-to-bag');
  const cartCount = document.getElementById('cart-count');
  const dropdown = document.getElementById('cart-dropdown');

  let cart = [];

  function updateCartDisplay() {
    // Update count bubble
    if (cart.length > 0) {
      cartCount.style.display = 'inline-block';
      cartCount.textContent = cart.length;
    } else {
      cartCount.style.display = 'none';
    }

    // Update dropdown
    dropdown.innerHTML = '';

    if (cart.length === 0) {
      dropdown.innerHTML = '<p class="empty">Your cart is empty</p>';
      return;
    }

    cart.forEach((item, index) => {
      dropdown.innerHTML += `
        <div class="cart-item">
          <img src="${item.image}">
          <div class="cart-item-info">
            <h4>${item.name}</h4>
            <p>${item.price}</p>
            <button class="remove-btn" data-index="${index}">Remove</button>
          </div>
        </div>
      `;
    });

    dropdown.innerHTML += `<a href="#" class="checkout-btn">Checkout</a>`;
  }

  // Remove item handler
  dropdown.addEventListener('click', (event) => {
    if (event.target.classList.contains('remove-btn')) {
      const index = event.target.dataset.index;
      cart.splice(index, 1);
      updateCartDisplay();
    }
  });

  // Add to cart
  if (addToBagBtn) {
    addToBagBtn.addEventListener('click', () => {
      const product = {
        name: "All-Mountain Ski 2025",
        image: document.querySelector('.main-img').src,
        price: "$799"
      };

      cart.push(product);
      updateCartDisplay();
    });
  }


  /* ----------------------------------------------------
     3. LIGHTBOX GALLERY
  ---------------------------------------------------- */

  const lightbox = document.createElement('div');
  lightbox.id = 'lightbox';
  document.body.appendChild(lightbox);

  const galleryImages = document.querySelectorAll('.main-img, .thumbnail-grid img');
  let currentIndex = 0;

  function openLightbox(index) {
    currentIndex = index;

    lightbox.innerHTML = `
      <img src="${galleryImages[currentIndex].src}" class="lightbox-img">
      <button class="lightbox-prev">&#10094;</button>
      <button class="lightbox-next">&#10095;</button>
    `;

    lightbox.classList.add('active');

    document.querySelector('.lightbox-prev').onclick = () => changeSlide(-1);
    document.querySelector('.lightbox-next').onclick = () => changeSlide(1);
  }

  function changeSlide(step) {
    currentIndex = (currentIndex + step + galleryImages.length) % galleryImages.length;
    document.querySelector('.lightbox-img').src = galleryImages[currentIndex].src;
  }

  lightbox.addEventListener('click', e => {
    if (e.target === lightbox) {
      lightbox.classList.remove('active');
    }
  });

  galleryImages.forEach((img, index) => {
    img.addEventListener('click', () => openLightbox(index));
  });

});
</script>

</body>
</html>
